<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Analytics Dashboard</title>
  <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
  
  {% include './components/header.html' %}
  
  <main>
    <section>
      <h2>Smart Airport Analytics</h2>

      <h3>Flight Delays</h3>
      {% if delays %}
        <ul>
          {% for flight in delays %}
          <li>
            Flight {{ flight.flight_id }} ({{ flight.departure_airport }} â†’ {{ flight.arrival_airport }}) - <strong>{{ flight.status }}</strong>
          </li>
          {% endfor %}
        </ul>
      {% else %}
        <p>No delayed flights.</p>
      {% endif %}

      <h3>Average Carbon Emissions</h3>
      <p>Average carbon output per record: <strong>{{ carbon_avg }} kg</strong></p>

      <h3>Passenger Statistics</h3>
      {% if passenger_stats.stats %}
        <ul>
          {% for flight_id, count in passenger_stats.stats %}
          <li>Flight {{ flight_id }} has {{ count }} passengers</li>
          {% endfor %}
        </ul>
        <div>
          <p><strong>Most passengers:</strong> Flight {{ passenger_stats.max[0] }} with {{ passenger_stats.max[1] }}</p>
          <p><strong>Fewest passengers:</strong> Flight {{ passenger_stats.min[0] }} with {{ passenger_stats.min[1] }}</p>
          <p><strong>Average passengers per flight:</strong> {{ passenger_stats.avg }}</p>
        </div>
      {% else %}
        <p>No passenger data available.</p>
      {% endif %}
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Smart Airport Inc.</p>
  </footer>
</body>
</html>
