<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Analytics Dashboard</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css">
</head>
<body>
  <div class="container mt-5">
    <h2 class="mb-4">Smart Airport Analytics</h2>

    <h4>Flight Delays</h4>
    <ul class="list-group mb-4">
      {% if delays %}
        {% for flight in delays %}
        <li class="list-group-item">
          Flight {{ flight.flight_id }} ({{ flight.departure_airport }} â†’ {{ flight.arrival_airport }}) - <strong>{{ flight.status }}</strong>
        </li>
        {% endfor %}
      {% else %}
        <li class="list-group-item">No delayed flights.</li>
      {% endif %}
    </ul>

    <h4>Average Carbon Emissions</h4>
    <p class="mb-4">Average carbon output per record: <strong>{{ carbon_avg }} kg</strong></p>

    <h4>Passenger Statistics</h4>
    {% if passenger_stats.stats %}
      <ul class="list-group">
        {% for flight_id, count in passenger_stats.stats %}
        <li class="list-group-item">Flight {{ flight_id }} has {{ count }} passengers</li>
        {% endfor %}
      </ul>
      <div class="mt-3">
        <p><strong>Most passengers:</strong> Flight {{ passenger_stats.max[0] }} with {{ passenger_stats.max[1] }}</p>
        <p><strong>Fewest passengers:</strong> Flight {{ passenger_stats.min[0] }} with {{ passenger_stats.min[1] }}</p>
        <p><strong>Average passengers per flight:</strong> {{ passenger_stats.avg }}</p>
      </div>
    {% else %}
      <p>No passenger data available.</p>
    {% endif %}
  </div>
</body>
</html>
